var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */
var LoadView_1 = require("./script/LoadView");
var MainScene_1 = require("./script/MainScene");
var MainView_1 = require("./script/MainView");
/*
* 游戏初始化配置;
*/
var GameConfig = /** @class */ (function () {
    function GameConfig() {
    }
    GameConfig.init = function () {
        var reg = Laya.ClassUtils.regClass;
        reg("script/LoadView.ts", LoadView_1.default);
        reg("script/MainScene.ts", MainScene_1.default);
        reg("script/MainView.ts", MainView_1.default);
    };
    GameConfig.width = 640;
    GameConfig.height = 1136;
    GameConfig.scaleMode = "fixedwidth";
    GameConfig.screenMode = "none";
    GameConfig.alignV = "top";
    GameConfig.alignH = "left";
    GameConfig.startScene = "MainScene.scene";
    GameConfig.sceneRoot = "";
    GameConfig.debug = false;
    GameConfig.stat = false;
    GameConfig.physicsDebug = false;
    GameConfig.exportSceneToJson = true;
    return GameConfig;
}());
exports.default = GameConfig;
GameConfig.init();

},{"./script/LoadView":3,"./script/MainScene":4,"./script/MainView":5}],2:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var GameConfig_1 = require("./GameConfig");
var Main = /** @class */ (function () {
    function Main() {
        //根据IDE设置初始化引擎		
        if (window["Laya3D"])
            Laya3D.init(GameConfig_1.default.width, GameConfig_1.default.height);
        else
            Laya.init(GameConfig_1.default.width, GameConfig_1.default.height, Laya["WebGL"]);
        Laya["Physics"] && Laya["Physics"].enable();
        Laya["DebugPanel"] && Laya["DebugPanel"].enable();
        Laya.stage.scaleMode = GameConfig_1.default.scaleMode;
        Laya.stage.screenMode = GameConfig_1.default.screenMode;
        //兼容微信不支持加载scene后缀场景
        Laya.URL.exportSceneToJson = GameConfig_1.default.exportSceneToJson;
        //打开调试面板（通过IDE设置调试模式，或者url地址增加debug=true参数，均可打开调试面板）
        if (GameConfig_1.default.debug || Laya.Utils.getQueryString("debug") == "true")
            Laya.enableDebugPanel();
        if (GameConfig_1.default.physicsDebug && Laya["PhysicsDebugDraw"])
            Laya["PhysicsDebugDraw"].enable();
        if (GameConfig_1.default.stat)
            Laya.Stat.show();
        Laya.alertGlobalError = true;
        //激活资源版本控制，version.json由IDE发布功能自动生成，如果没有也不影响后续流程
        Laya.ResourceVersion.enable("version.json", Laya.Handler.create(this, this.onVersionLoaded), Laya.ResourceVersion.FILENAME_VERSION);
    }
    Main.prototype.onVersionLoaded = function () {
        //激活大小图映射，加载小图的时候，如果发现小图在大图合集里面，则优先加载大图合集，而不是小图
        Laya.AtlasInfoManager.enable("fileconfig.json", Laya.Handler.create(this, this.onConfigLoaded));
    };
    Main.prototype.onConfigLoaded = function () {
        //加载IDE指定的场景
        GameConfig_1.default.startScene && Laya.Scene.open(GameConfig_1.default.startScene);
    };
    return Main;
}());
//激活启动类
new Main();

},{"./GameConfig":1}],3:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("../ui/layaMaxUI");
var LoadView = /** @class */ (function (_super) {
    __extends(LoadView, _super);
    function LoadView() {
        var _this = _super.call(this) || this;
        // 更新列表
        _this.loadlist = [];
        return _this;
    }
    LoadView.prototype.onEnable = function () {
        this.on("3D_LOAD_END", this, this.testEvent);
        this.startLoad();
    };
    LoadView.prototype.onDisable = function () {
    };
    // 开始加载3D资源
    LoadView.prototype.startLoad = function () {
        console.log("开始更新...");
        // Laya.Loader.create("")
        Laya.timer.once(3000, this, this.onLoadComplete);
    };
    LoadView.prototype.onLoadComplete = function () {
        Laya.stage.event("3D_LOAD_END");
        this.removeSelf();
    };
    LoadView.prototype.testEvent = function () {
        console.log("舰艇懂啊了");
    };
    return LoadView;
}(layaMaxUI_1.ui.LoadViewUI));
exports.default = LoadView;

},{"../ui/layaMaxUI":6}],4:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("../ui/layaMaxUI");
var LoadView_1 = require("./LoadView");
var MainView_1 = require("./MainView");
var MainScene = /** @class */ (function (_super) {
    __extends(MainScene, _super);
    function MainScene() {
        return _super.call(this) || this;
    }
    MainScene.prototype.onEnable = function () {
        // 注册自定义事件
        Laya.stage.on("3D_LOAD_END", this, this.showMainView);
        Laya.stage.on("CREATE_3D_SCENE", this, this.createMainScene);
        // 添加LoadView
        this.loadView = new LoadView_1.default();
        Laya.stage.addChild(this.loadView);
    };
    MainScene.prototype.showMainView = function () {
        console.log("可以添加mainview了");
        // 添加MainView
        this.mainView = new MainView_1.default();
        Laya.stage.addChild(this.mainView);
    };
    MainScene.prototype.createMainScene = function () {
        console.log("创建个3d场景试试");
        // //添加3D场景
        // var scene:Scene3D = Laya.stage.addChild(new Scene3D()) as Scene3D;
        // //添加照相机
        // var camera:Camera = (scene.addChild(new Camera(0, 0.1, 100))) as Camera;
        // camera.transform.translate(new Vector3(0, 3, 3));
        // camera.transform.rotate(new Vector3(-30, 0, 0), true, false);
        // //添加方向光
        // var directionLight:DirectionLight = scene.addChild(new DirectionLight()) as DirectionLight;
        // directionLight.color = new Vector3(0.6, 0.6, 0.6);
        // directionLight.transform.worldMatrix.setForward(new Vector3(1, -1, 0));
        // //添加自定义模型
        // this.box = scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(1, 1, 1))) as MeshSprite3D;
        // this.box.transform.rotate(new Vector3(0, 45, 0), false, false);
        // this.box.transform.position = new Vector3(0.1, 0, 0);
        // var material:BlinnPhongMaterial = new BlinnPhongMaterial();
        // Texture2D.load("res/layabox.png", Laya.Handler.create(null, function(tex:Texture2D):void {
        //     material.albedoTexture = tex;
        // }));
        // this.box.meshRenderer.material = material;
    };
    return MainScene;
}(layaMaxUI_1.ui.MainSceneUI));
exports.default = MainScene;

},{"../ui/layaMaxUI":6,"./LoadView":3,"./MainView":5}],5:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var layaMaxUI_1 = require("../ui/layaMaxUI");
var Event = Laya.Event;
var Scene3D = Laya.Scene3D;
var Camera = Laya.Camera;
var Vector3 = Laya.Vector3;
var DirectionLight = Laya.DirectionLight;
var MeshSprite3D = Laya.MeshSprite3D;
var BlinnPhongMaterial = Laya.BlinnPhongMaterial;
var Texture2D = Laya.Texture2D;
var PrimitiveMesh = Laya.PrimitiveMesh;
var Handler = Laya.Handler;
var MainView = /** @class */ (function (_super) {
    __extends(MainView, _super);
    function MainView() {
        var _this = _super.call(this) || this;
        _this.turnRotation = new Vector3(0, 0.01, 0);
        return _this;
    }
    MainView.prototype.onEnable = function () {
        Laya.stage.event("CREATE_3D_SCENE");
        //添加3D场景
        var scene = Laya.stage.addChild(new Scene3D());
        //添加照相机
        var camera = (scene.addChild(new Camera(0, 0.1, 100)));
        camera.transform.translate(new Vector3(0, 3, 3));
        camera.transform.rotate(new Vector3(-30, 0, 0), true, false);
        //添加方向光
        var directionLight = scene.addChild(new DirectionLight());
        directionLight.color = new Vector3(0.6, 0.6, 0.6);
        directionLight.transform.worldMatrix.setForward(new Vector3(1, -1, 0));
        //添加自定义模型
        this.box = scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(1, 1, 1)));
        this.box.transform.rotate(new Vector3(0, 45, 0), false, false);
        this.box.transform.position = new Vector3(0.1, 0, 0);
        var material = new BlinnPhongMaterial();
        Texture2D.load("res/layabox.png", Laya.Handler.create(null, function (tex) {
            material.albedoTexture = tex;
        }));
        this.box.meshRenderer.material = material;
        this.btn1.on(Event.CLICK, this, this.onChoose, ['1']);
        this.btn2.on(Event.CLICK, this, this.onChoose, ['2']);
        this.btn3.on(Event.CLICK, this, this.onChoose, ['3']);
        this.btn4.on(Event.CLICK, this, this.onChoose, ['4']);
        Laya.timer.frameLoop(1, this, this.ratateSprite3D);
    };
    MainView.prototype.ratateSprite3D = function () {
        this.box.transform.rotate(this.turnRotation, false);
    };
    MainView.prototype.onChoose = function (id) {
        console.log("服饰ID：" + id);
        var material = new BlinnPhongMaterial();
        Texture2D.load("res/bg" + id + ".png", Handler.create(null, function (tex) {
            material.albedoTexture = tex;
        }));
        this.box.meshRenderer.material = material;
    };
    return MainView;
}(layaMaxUI_1.ui.MainViewUI));
exports.default = MainView;

},{"../ui/layaMaxUI":6}],6:[function(require,module,exports){
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var ui;
(function (ui) {
    var LoadViewUI = /** @class */ (function (_super) {
        __extends(LoadViewUI, _super);
        function LoadViewUI() {
            return _super.call(this) || this;
        }
        LoadViewUI.prototype.createChildren = function () {
            _super.prototype.createChildren.call(this);
            this.createView(LoadViewUI.uiView);
        };
        LoadViewUI.uiView = { "type": "View", "props": { "width": 640, "runtime": "script/LoadView.ts", "height": 1136 }, "compId": 2, "child": [{ "type": "ProgressBar", "props": { "y": 804, "x": 104, "width": 458, "var": "progressBar", "skin": "comp/progress.png", "height": 40 }, "compId": 3, "child": [{ "type": "Label", "props": { "y": 5, "x": 189, "var": "percentValue", "text": "100%", "fontSize": 30, "font": "Arial", "color": "#0e57f3", "bold": true }, "compId": 6 }] }, { "type": "Label", "props": { "y": 757, "x": 104, "text": "资源加载中...", "fontSize": 30, "font": "Arial", "color": "#f9f6f6", "bold": true }, "compId": 4 }], "loadList": ["comp/progress.png"], "loadList3D": [] };
        return LoadViewUI;
    }(Laya.View));
    ui.LoadViewUI = LoadViewUI;
    var MainSceneUI = /** @class */ (function (_super) {
        __extends(MainSceneUI, _super);
        function MainSceneUI() {
            return _super.call(this) || this;
        }
        MainSceneUI.prototype.createChildren = function () {
            _super.prototype.createChildren.call(this);
            this.createView(MainSceneUI.uiView);
        };
        MainSceneUI.uiView = { "type": "Scene", "props": { "width": 640, "runtime": "script/MainScene.ts", "height": 1136 }, "compId": 2, "loadList": [], "loadList3D": [] };
        return MainSceneUI;
    }(Laya.Scene));
    ui.MainSceneUI = MainSceneUI;
    var MainViewUI = /** @class */ (function (_super) {
        __extends(MainViewUI, _super);
        function MainViewUI() {
            return _super.call(this) || this;
        }
        MainViewUI.prototype.createChildren = function () {
            _super.prototype.createChildren.call(this);
            this.createView(MainViewUI.uiView);
        };
        MainViewUI.uiView = { "type": "View", "props": { "width": 640, "runtime": "script/MainView.ts", "height": 1136 }, "compId": 2, "child": [{ "type": "Button", "props": { "y": 151, "x": 502, "var": "btn1", "skin": "comp/button.png", "name": "1", "label": "label", "height": 40 }, "compId": 6 }, { "type": "Button", "props": { "y": 219, "x": 503, "var": "btn2", "skin": "comp/button.png", "name": "2", "label": "label", "height": 40 }, "compId": 7 }, { "type": "Button", "props": { "y": 281, "x": 503, "var": "btn3", "skin": "comp/button.png", "name": "3", "label": "label", "height": 40 }, "compId": 8 }, { "type": "Button", "props": { "y": 345, "x": 503, "var": "btn4", "skin": "comp/button.png", "name": "4", "label": "label", "height": 40 }, "compId": 9 }], "loadList": ["comp/button.png"], "loadList3D": [] };
        return MainViewUI;
    }(Laya.View));
    ui.MainViewUI = MainViewUI;
})(ui = exports.ui || (exports.ui = {}));

},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL0RvY3VtZW50cy/ova/ku7YvTGF5YUFpcklERS5hcHAvQ29udGVudHMvUmVzb3VyY2VzL2FwcC9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwic3JjL0dhbWVDb25maWcudHMiLCJzcmMvTWFpbi50cyIsInNyYy9zY3JpcHQvTG9hZFZpZXcudHMiLCJzcmMvc2NyaXB0L01haW5TY2VuZS50cyIsInNyYy9zY3JpcHQvTWFpblZpZXcudHMiLCJzcmMvdWkvbGF5YU1heFVJLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQ1ZBLGdHQUFnRztBQUNoRyw4Q0FBd0M7QUFDeEMsZ0RBQTBDO0FBQzFDLDhDQUF3QztBQUN4Qzs7RUFFRTtBQUNGO0lBYUk7SUFBYyxDQUFDO0lBQ1IsZUFBSSxHQUFYO1FBQ0ksSUFBSSxHQUFHLEdBQWEsSUFBSSxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUM7UUFDN0MsR0FBRyxDQUFDLG9CQUFvQixFQUFDLGtCQUFRLENBQUMsQ0FBQztRQUNuQyxHQUFHLENBQUMscUJBQXFCLEVBQUMsbUJBQVMsQ0FBQyxDQUFDO1FBQ3JDLEdBQUcsQ0FBQyxvQkFBb0IsRUFBQyxrQkFBUSxDQUFDLENBQUM7SUFDdkMsQ0FBQztJQWxCTSxnQkFBSyxHQUFRLEdBQUcsQ0FBQztJQUNqQixpQkFBTSxHQUFRLElBQUksQ0FBQztJQUNuQixvQkFBUyxHQUFRLFlBQVksQ0FBQztJQUM5QixxQkFBVSxHQUFRLE1BQU0sQ0FBQztJQUN6QixpQkFBTSxHQUFRLEtBQUssQ0FBQztJQUNwQixpQkFBTSxHQUFRLE1BQU0sQ0FBQztJQUNyQixxQkFBVSxHQUFLLGlCQUFpQixDQUFDO0lBQ2pDLG9CQUFTLEdBQVEsRUFBRSxDQUFDO0lBQ3BCLGdCQUFLLEdBQVMsS0FBSyxDQUFDO0lBQ3BCLGVBQUksR0FBUyxLQUFLLENB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ZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xyXG5pbXBvcnQgTG9hZFZpZXcgZnJvbSBcIi4vc2NyaXB0L0xvYWRWaWV3XCJcbmltcG9ydCBNYWluU2NlbmUgZnJvbSBcIi4vc2NyaXB0L01haW5TY2VuZVwiXG5pbXBvcnQgTWFpblZpZXcgZnJvbSBcIi4vc2NyaXB0L01haW5WaWV3XCJcclxuLypcclxuKiDmuLjmiI/liJ3lp4vljJbphY3nva47XHJcbiovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb25maWd7XHJcbiAgICBzdGF0aWMgd2lkdGg6bnVtYmVyPTY0MDtcclxuICAgIHN0YXRpYyBoZWlnaHQ6bnVtYmVyPTExMzY7XHJcbiAgICBzdGF0aWMgc2NhbGVNb2RlOnN0cmluZz1cImZpeGVkd2lkdGhcIjtcclxuICAgIHN0YXRpYyBzY3JlZW5Nb2RlOnN0cmluZz1cIm5vbmVcIjtcclxuICAgIHN0YXRpYyBhbGlnblY6c3RyaW5nPVwidG9wXCI7XHJcbiAgICBzdGF0aWMgYWxpZ25IOnN0cmluZz1cImxlZnRcIjtcclxuICAgIHN0YXRpYyBzdGFydFNjZW5lOmFueT1cIk1haW5TY2VuZS5zY2VuZVwiO1xyXG4gICAgc3RhdGljIHNjZW5lUm9vdDpzdHJpbmc9XCJcIjtcclxuICAgIHN0YXRpYyBkZWJ1Zzpib29sZWFuPWZhbHNlO1xyXG4gICAgc3RhdGljIHN0YXQ6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBwaHlzaWNzRGVidWc6Ym9vbGVhbj1mYWxzZTtcclxuICAgIHN0YXRpYyBleHBvcnRTY2VuZVRvSnNvbjpib29sZWFuPXRydWU7XHJcbiAgICBjb25zdHJ1Y3Rvcigpe31cclxuICAgIHN0YXRpYyBpbml0KCl7XHJcbiAgICAgICAgdmFyIHJlZzogRnVuY3Rpb24gPSBMYXlhLkNsYXNzVXRpbHMucmVnQ2xhc3M7XHJcbiAgICAgICAgcmVnKFwic2NyaXB0L0xvYWRWaWV3LnRzXCIsTG9hZFZpZXcpO1xuICAgICAgICByZWcoXCJzY3JpcHQvTWFpblNjZW5lLnRzXCIsTWFpblNjZW5lKTtcbiAgICAgICAgcmVnKFwic2NyaXB0L01haW5WaWV3LnRzXCIsTWFpblZpZXcpO1xyXG4gICAgfVxyXG59XHJcbkdhbWVDb25maWcuaW5pdCgpOyIsImltcG9ydCBHYW1lQ29uZmlnIGZyb20gXCIuL0dhbWVDb25maWdcIjtcclxuY2xhc3MgTWFpbiB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHQvL+agueaNrklEReiuvue9ruWIneWni+WMluW8leaTjlx0XHRcclxuXHRcdGlmICh3aW5kb3dbXCJMYXlhM0RcIl0pIExheWEzRC5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0KTtcclxuXHRcdGVsc2UgTGF5YS5pbml0KEdhbWVDb25maWcud2lkdGgsIEdhbWVDb25maWcuaGVpZ2h0LCBMYXlhW1wiV2ViR0xcIl0pO1xyXG5cdFx0TGF5YVtcIlBoeXNpY3NcIl0gJiYgTGF5YVtcIlBoeXNpY3NcIl0uZW5hYmxlKCk7XHJcblx0XHRMYXlhW1wiRGVidWdQYW5lbFwiXSAmJiBMYXlhW1wiRGVidWdQYW5lbFwiXS5lbmFibGUoKTtcclxuXHRcdExheWEuc3RhZ2Uuc2NhbGVNb2RlID0gR2FtZUNvbmZpZy5zY2FsZU1vZGU7XHJcblx0XHRMYXlhLnN0YWdlLnNjcmVlbk1vZGUgPSBHYW1lQ29uZmlnLnNjcmVlbk1vZGU7XHJcblx0XHQvL+WFvOWuueW+ruS/oeS4jeaUr+aMgeWKoOi9vXNjZW5l5ZCO57yA5Zy65pmvXHJcblx0XHRMYXlhLlVSTC5leHBvcnRTY2VuZVRvSnNvbiA9IEdhbWVDb25maWcuZXhwb3J0U2NlbmVUb0pzb247XHJcblxyXG5cdFx0Ly/miZPlvIDosIPor5XpnaLmnb/vvIjpgJrov4dJREXorr7nva7osIPor5XmqKHlvI/vvIzmiJbogIV1cmzlnLDlnYDlop7liqBkZWJ1Zz10cnVl5Y+C5pWw77yM5Z2H5Y+v5omT5byA6LCD6K+V6Z2i5p2/77yJXHJcblx0XHRpZiAoR2FtZUNvbmZpZy5kZWJ1ZyB8fCBMYXlhLlV0aWxzLmdldFF1ZXJ5U3RyaW5nKFwiZGVidWdcIikgPT0gXCJ0cnVlXCIpIExheWEuZW5hYmxlRGVidWdQYW5lbCgpO1xyXG5cdFx0aWYgKEdhbWVDb25maWcucGh5c2ljc0RlYnVnICYmIExheWFbXCJQaHlzaWNzRGVidWdEcmF3XCJdKSBMYXlhW1wiUGh5c2ljc0RlYnVnRHJhd1wiXS5lbmFibGUoKTtcclxuXHRcdGlmIChHYW1lQ29uZmlnLnN0YXQpIExheWEuU3RhdC5zaG93KCk7XHJcblx0XHRMYXlhLmFsZXJ0R2xvYmFsRXJyb3IgPSB0cnVlO1xyXG5cclxuXHRcdC8v5r+A5rS76LWE5rqQ54mI5pys5o6n5Yi277yMdmVyc2lvbi5qc29u55SxSURF5Y+R5biD5Yqf6IO96Ieq5Yqo55Sf5oiQ77yM5aaC5p6c5rKh5pyJ5Lmf5LiN5b2x5ZON5ZCO57ut5rWB56iLXHJcblx0XHRMYXlhLlJlc291cmNlVmVyc2lvbi5lbmFibGUoXCJ2ZXJzaW9uLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uVmVyc2lvbkxvYWRlZCksIExheWEuUmVzb3VyY2VWZXJzaW9uLkZJTEVOQU1FX1ZFUlNJT04pO1xyXG5cdH1cclxuXHJcblx0b25WZXJzaW9uTG9hZGVkKCk6IHZvaWQge1xyXG5cdFx0Ly/mv4DmtLvlpKflsI/lm77mmKDlsITvvIzliqDovb3lsI/lm77nmoTml7blgJnvvIzlpoLmnpzlj5HnjrDlsI/lm77lnKjlpKflm77lkIjpm4bph4zpnaLvvIzliJnkvJjlhYjliqDovb3lpKflm77lkIjpm4bvvIzogIzkuI3mmK/lsI/lm75cclxuXHRcdExheWEuQXRsYXNJbmZvTWFuYWdlci5lbmFibGUoXCJmaWxlY29uZmlnLmpzb25cIiwgTGF5YS5IYW5kbGVyLmNyZWF0ZSh0aGlzLCB0aGlzLm9uQ29uZmlnTG9hZGVkKSk7XHJcblx0fVxyXG5cclxuXHRvbkNvbmZpZ0xvYWRlZCgpOiB2b2lkIHtcclxuXHRcdC8v5Yqg6L29SURF5oyH5a6a55qE5Zy65pmvXHJcblx0XHRHYW1lQ29uZmlnLnN0YXJ0U2NlbmUgJiYgTGF5YS5TY2VuZS5vcGVuKEdhbWVDb25maWcuc3RhcnRTY2VuZSk7XHJcblx0fVxyXG59XHJcbi8v5r+A5rS75ZCv5Yqo57G7XHJcbm5ldyBNYWluKCk7XHJcbiIsImltcG9ydCB7dWl9IGZyb20gXCIuLi91aS9sYXlhTWF4VUlcIjtcbiAgICBcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExvYWRWaWV3IGV4dGVuZHMgdWkuTG9hZFZpZXdVSXtcblxuICAgIC8vIOabtOaWsOWIl+ihqFxuICAgIHByaXZhdGUgbG9hZGxpc3Q6QXJyYXk8c3RyaW5nPiA9W107XG5cbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIG9uRW5hYmxlKCk6dm9pZHtcbiAgICAgICAgdGhpcy5vbihcIjNEX0xPQURfRU5EXCIsdGhpcyx0aGlzLnRlc3RFdmVudClcbiAgICAgICAgdGhpcy5zdGFydExvYWQoKTtcbiAgICB9XG5cbiAgICBvbkRpc2FibGUoKTp2b2lke1xuXG4gICAgfVxuICAgIFxuICAgIC8vIOW8gOWni+WKoOi9vTNE6LWE5rqQXG4gICAgcHJpdmF0ZSBzdGFydExvYWQoKTp2b2lke1xuICAgICAgICBjb25zb2xlLmxvZyhcIuW8gOWni+abtOaWsC4uLlwiKVxuICAgICAgICAvLyBMYXlhLkxvYWRlci5jcmVhdGUoXCJcIilcblxuICAgICAgICBcbiAgICAgICAgTGF5YS50aW1lci5vbmNlKDMwMDAsdGhpcyx0aGlzLm9uTG9hZENvbXBsZXRlKVxuICAgIH1cblxuICAgIHByaXZhdGUgb25Mb2FkQ29tcGxldGUoKTp2b2lke1xuICAgICAgICBMYXlhLnN0YWdlLmV2ZW50KFwiM0RfTE9BRF9FTkRcIik7XG4gICAgICAgIHRoaXMucmVtb3ZlU2VsZigpO1xuICAgIH1cblxuICAgIHByaXZhdGUgdGVzdEV2ZW50KCk6dm9pZFxuICAgIHtcbiAgICAgICAgY29uc29sZS5sb2coXCLoiLDoiYfmh4LllYrkuoZcIilcbiAgICB9XG59IiwiaW1wb3J0IHsgdWkgfSBmcm9tIFwiLi4vdWkvbGF5YU1heFVJXCI7XG5pbXBvcnQgTG9hZFZpZXcgZnJvbSBcIi4vTG9hZFZpZXdcIjtcbmltcG9ydCBNYWluVmlldyBmcm9tIFwiLi9NYWluVmlld1wiO1xuXG5pbXBvcnQgU2NlbmUzRD1MYXlhLlNjZW5lM0Q7XG5pbXBvcnQgQ2FtZXJhPUxheWEuQ2FtZXJhO1xuaW1wb3J0IFZlY3RvcjM9TGF5YS5WZWN0b3IzO1xuaW1wb3J0IERpcmVjdGlvbkxpZ2h0PUxheWEuRGlyZWN0aW9uTGlnaHQ7XG5pbXBvcnQgTWVzaFNwcml0ZTNEPUxheWEuTWVzaFNwcml0ZTNEO1xuaW1wb3J0IEJsaW5uUGhvbmdNYXRlcmlhbD1MYXlhLkJsaW5uUGhvbmdNYXRlcmlhbDtcbmltcG9ydCBUZXh0dXJlMkQ9TGF5YS5UZXh0dXJlMkQ7XG5pbXBvcnQgUHJpbWl0aXZlTWVzaD1MYXlhLlByaW1pdGl2ZU1lc2g7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1haW5TY2VuZSBleHRlbmRzIHVpLk1haW5TY2VuZVVJe1xuICAgIHByaXZhdGUgbG9hZFZpZXc6TG9hZFZpZXc7XG4gICAgcHJpdmF0ZSBtYWluVmlldzpNYWluVmlldztcbiAgICBwcml2YXRlIGJveDpNZXNoU3ByaXRlM0Q7XG4gICAgY29uc3RydWN0b3IoKXtcbiAgICAgICAgc3VwZXIoKTtcbiAgICB9XG5cbiAgICBvbkVuYWJsZSgpOnZvaWR7XG4gICAgICAgIC8vIOazqOWGjOiHquWumuS5ieS6i+S7tlxuICAgICAgICBMYXlhLnN0YWdlLm9uKFwiM0RfTE9BRF9FTkRcIix0aGlzLHRoaXMuc2hvd01haW5WaWV3KVxuICAgICAgICBMYXlhLnN0YWdlLm9uKFwiQ1JFQVRFXzNEX1NDRU5FXCIsdGhpcyx0aGlzLmNyZWF0ZU1haW5TY2VuZSlcbiAgICAgICAgLy8g5re75YqgTG9hZFZpZXdcbiAgICAgICAgdGhpcy5sb2FkVmlldyA9IG5ldyBMb2FkVmlldygpO1xuICAgICAgICBMYXlhLnN0YWdlLmFkZENoaWxkKHRoaXMubG9hZFZpZXcpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2hvd01haW5WaWV3KCk6dm9pZFxuICAgIHsgICBcbiAgICAgICAgY29uc29sZS5sb2coXCLlj6/ku6Xmt7vliqBtYWludmlld+S6hlwiKVxuICAgICAgICAvLyDmt7vliqBNYWluVmlld1xuICAgICAgICB0aGlzLm1haW5WaWV3ID0gbmV3IE1haW5WaWV3KClcbiAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZCh0aGlzLm1haW5WaWV3KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZU1haW5TY2VuZSgpOnZvaWR7XG4gICAgICAgIGNvbnNvbGUubG9nKFwi5Yib5bu65LiqM2TlnLrmma/or5Xor5VcIilcbiAgICAgICAgLy8gLy/mt7vliqAzROWcuuaZr1xuICAgICAgICAvLyB2YXIgc2NlbmU6U2NlbmUzRCA9IExheWEuc3RhZ2UuYWRkQ2hpbGQobmV3IFNjZW5lM0QoKSkgYXMgU2NlbmUzRDtcbiAgICAgICAgXG4gICAgICAgIC8vIC8v5re75Yqg54Wn55u45py6XG4gICAgICAgIC8vIHZhciBjYW1lcmE6Q2FtZXJhID0gKHNjZW5lLmFkZENoaWxkKG5ldyBDYW1lcmEoMCwgMC4xLCAxMDApKSkgYXMgQ2FtZXJhO1xuICAgICAgICAvLyBjYW1lcmEudHJhbnNmb3JtLnRyYW5zbGF0ZShuZXcgVmVjdG9yMygwLCAzLCAzKSk7XG4gICAgICAgIC8vIGNhbWVyYS50cmFuc2Zvcm0ucm90YXRlKG5ldyBWZWN0b3IzKC0zMCwgMCwgMCksIHRydWUsIGZhbHNlKTtcbiAgICAgICAgXG4gICAgICAgIC8vIC8v5re75Yqg5pa55ZCR5YWJXG4gICAgICAgIC8vIHZhciBkaXJlY3Rpb25MaWdodDpEaXJlY3Rpb25MaWdodCA9IHNjZW5lLmFkZENoaWxkKG5ldyBEaXJlY3Rpb25MaWdodCgpKSBhcyBEaXJlY3Rpb25MaWdodDtcbiAgICAgICAgLy8gZGlyZWN0aW9uTGlnaHQuY29sb3IgPSBuZXcgVmVjdG9yMygwLjYsIDAuNiwgMC42KTtcbiAgICAgICAgLy8gZGlyZWN0aW9uTGlnaHQudHJhbnNmb3JtLndvcmxkTWF0cml4LnNldEZvcndhcmQobmV3IFZlY3RvcjMoMSwgLTEsIDApKTtcbiAgICAgICAgXG4gICAgICAgIC8vIC8v5re75Yqg6Ieq5a6a5LmJ5qih5Z6LXG4gICAgICAgIC8vIHRoaXMuYm94ID0gc2NlbmUuYWRkQ2hpbGQobmV3IE1lc2hTcHJpdGUzRChQcmltaXRpdmVNZXNoLmNyZWF0ZUJveCgxLCAxLCAxKSkpIGFzIE1lc2hTcHJpdGUzRDtcbiAgICAgICAgLy8gdGhpcy5ib3gudHJhbnNmb3JtLnJvdGF0ZShuZXcgVmVjdG9yMygwLCA0NSwgMCksIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIC8vIHRoaXMuYm94LnRyYW5zZm9ybS5wb3NpdGlvbiA9IG5ldyBWZWN0b3IzKDAuMSwgMCwgMCk7XG4gICAgICAgIC8vIHZhciBtYXRlcmlhbDpCbGlublBob25nTWF0ZXJpYWwgPSBuZXcgQmxpbm5QaG9uZ01hdGVyaWFsKCk7XG4gICAgICAgIC8vIFRleHR1cmUyRC5sb2FkKFwicmVzL2xheWFib3gucG5nXCIsIExheWEuSGFuZGxlci5jcmVhdGUobnVsbCwgZnVuY3Rpb24odGV4OlRleHR1cmUyRCk6dm9pZCB7XG4gICAgICAgIC8vICAgICBtYXRlcmlhbC5hbGJlZG9UZXh0dXJlID0gdGV4O1xuICAgICAgICAvLyB9KSk7XG4gICAgICAgIC8vIHRoaXMuYm94Lm1lc2hSZW5kZXJlci5tYXRlcmlhbCA9IG1hdGVyaWFsO1xuICAgIH1cbn0iLCJpbXBvcnQge3VpfSBmcm9tIFwiLi4vdWkvbGF5YU1heFVJXCI7XG5cbmltcG9ydCBFdmVudD1MYXlhLkV2ZW50O1xuaW1wb3J0IFNjZW5lM0Q9TGF5YS5TY2VuZTNEO1xuaW1wb3J0IENhbWVyYT1MYXlhLkNhbWVyYTtcbmltcG9ydCBWZWN0b3IzPUxheWEuVmVjdG9yMztcbmltcG9ydCBEaXJlY3Rpb25MaWdodD1MYXlhLkRpcmVjdGlvbkxpZ2h0O1xuaW1wb3J0IE1lc2hTcHJpdGUzRD1MYXlhLk1lc2hTcHJpdGUzRDtcbmltcG9ydCBCbGlublBob25nTWF0ZXJpYWw9TGF5YS5CbGlublBob25nTWF0ZXJpYWw7XG5pbXBvcnQgVGV4dHVyZTJEPUxheWEuVGV4dHVyZTJEO1xuaW1wb3J0IFByaW1pdGl2ZU1lc2g9TGF5YS5QcmltaXRpdmVNZXNoO1xuaW1wb3J0IEhhbmRsZXI9TGF5YS5IYW5kbGVyO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNYWluVmlldyBleHRlbmRzIHVpLk1haW5WaWV3VUl7XG4gICAgcHJpdmF0ZSBib3g6TWVzaFNwcml0ZTNEO1xuICAgIHByaXZhdGUgdHVyblJvdGF0aW9uOlZlY3RvcjMgPSBuZXcgVmVjdG9yMygwLCAwLjAxLCAwKTtcbiAgICBjb25zdHJ1Y3Rvcigpe1xuICAgICAgICBzdXBlcigpO1xuICAgIH1cblxuICAgIG9uRW5hYmxlKCk6dm9pZHtcbiAgICAgICAgTGF5YS5zdGFnZS5ldmVudChcIkNSRUFURV8zRF9TQ0VORVwiKVxuXG4gICAgICAgIC8v5re75YqgM0TlnLrmma9cbiAgICAgICAgdmFyIHNjZW5lOlNjZW5lM0QgPSBMYXlhLnN0YWdlLmFkZENoaWxkKG5ldyBTY2VuZTNEKCkpIGFzIFNjZW5lM0Q7XG4gICAgICAgIFxuICAgICAgICAvL+a3u+WKoOeFp+ebuOaculxuICAgICAgICB2YXIgY2FtZXJhOkNhbWVyYSA9IChzY2VuZS5hZGRDaGlsZChuZXcgQ2FtZXJhKDAsIDAuMSwgMTAwKSkpIGFzIENhbWVyYTtcbiAgICAgICAgY2FtZXJhLnRyYW5zZm9ybS50cmFuc2xhdGUobmV3IFZlY3RvcjMoMCwgMywgMykpO1xuICAgICAgICBjYW1lcmEudHJhbnNmb3JtLnJvdGF0ZShuZXcgVmVjdG9yMygtMzAsIDAsIDApLCB0cnVlLCBmYWxzZSk7XG4gICAgICAgIFxuICAgICAgICAvL+a3u+WKoOaWueWQkeWFiVxuICAgICAgICB2YXIgZGlyZWN0aW9uTGlnaHQ6RGlyZWN0aW9uTGlnaHQgPSBzY2VuZS5hZGRDaGlsZChuZXcgRGlyZWN0aW9uTGlnaHQoKSkgYXMgRGlyZWN0aW9uTGlnaHQ7XG4gICAgICAgIGRpcmVjdGlvbkxpZ2h0LmNvbG9yID0gbmV3IFZlY3RvcjMoMC42LCAwLjYsIDAuNik7XG4gICAgICAgIGRpcmVjdGlvbkxpZ2h0LnRyYW5zZm9ybS53b3JsZE1hdHJpeC5zZXRGb3J3YXJkKG5ldyBWZWN0b3IzKDEsIC0xLCAwKSk7XG4gICAgICAgIFxuICAgICAgICAvL+a3u+WKoOiHquWumuS5ieaooeWei1xuICAgICAgICB0aGlzLmJveCA9IHNjZW5lLmFkZENoaWxkKG5ldyBNZXNoU3ByaXRlM0QoUHJpbWl0aXZlTWVzaC5jcmVhdGVCb3goMSwgMSwgMSkpKSBhcyBNZXNoU3ByaXRlM0Q7XG4gICAgICAgIHRoaXMuYm94LnRyYW5zZm9ybS5yb3RhdGUobmV3IFZlY3RvcjMoMCwgNDUsIDApLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICB0aGlzLmJveC50cmFuc2Zvcm0ucG9zaXRpb24gPSBuZXcgVmVjdG9yMygwLjEsIDAsIDApO1xuICAgICAgICB2YXIgbWF0ZXJpYWw6Qmxpbm5QaG9uZ01hdGVyaWFsID0gbmV3IEJsaW5uUGhvbmdNYXRlcmlhbCgpO1xuICAgICAgICBUZXh0dXJlMkQubG9hZChcInJlcy9sYXlhYm94LnBuZ1wiLCBMYXlhLkhhbmRsZXIuY3JlYXRlKG51bGwsIGZ1bmN0aW9uKHRleDpUZXh0dXJlMkQpOnZvaWQge1xuICAgICAgICAgICAgbWF0ZXJpYWwuYWxiZWRvVGV4dHVyZSA9IHRleDtcbiAgICAgICAgfSkpO1xuICAgICAgICB0aGlzLmJveC5tZXNoUmVuZGVyZXIubWF0ZXJpYWwgPSBtYXRlcmlhbDtcblxuICAgICAgICB0aGlzLmJ0bjEub24oRXZlbnQuQ0xJQ0ssdGhpcyx0aGlzLm9uQ2hvb3NlLFsnMSddKTtcblx0XHR0aGlzLmJ0bjIub24oRXZlbnQuQ0xJQ0ssdGhpcyx0aGlzLm9uQ2hvb3NlLFsnMiddKTtcbiAgICAgICAgdGhpcy5idG4zLm9uKEV2ZW50LkNMSUNLLHRoaXMsdGhpcy5vbkNob29zZSxbJzMnXSk7XG4gICAgICAgIHRoaXMuYnRuNC5vbihFdmVudC5DTElDSyx0aGlzLHRoaXMub25DaG9vc2UsWyc0J10pO1xuICAgICAgICBcbiAgICAgICAgTGF5YS50aW1lci5mcmFtZUxvb3AoMSwgdGhpcywgdGhpcy5yYXRhdGVTcHJpdGUzRCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByYXRhdGVTcHJpdGUzRCgpOnZvaWR7XG4gICAgICAgIHRoaXMuYm94LnRyYW5zZm9ybS5yb3RhdGUodGhpcy50dXJuUm90YXRpb24sIGZhbHNlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uQ2hvb3NlKGlkKTp2b2lke1xuICAgICAgICBjb25zb2xlLmxvZyhcIuacjemlsElE77yaXCIgKyBpZClcbiAgICAgICAgdmFyIG1hdGVyaWFsOkJsaW5uUGhvbmdNYXRlcmlhbCA9IG5ldyBCbGlublBob25nTWF0ZXJpYWwoKTtcbiAgICAgICAgVGV4dHVyZTJELmxvYWQoXCJyZXMvYmdcIisgaWQgK1wiLnBuZ1wiLCBIYW5kbGVyLmNyZWF0ZShudWxsLCBmdW5jdGlvbih0ZXg6VGV4dHVyZTJEKTp2b2lkIHtcbiAgICAgICAgICAgIG1hdGVyaWFsLmFsYmVkb1RleHR1cmUgPSB0ZXg7XG4gICAgICAgIH0pKTtcbiAgICAgICAgdGhpcy5ib3gubWVzaFJlbmRlcmVyLm1hdGVyaWFsID0gbWF0ZXJpYWw7XG4gICAgfVxufSIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xuaW1wb3J0IFZpZXc9TGF5YS5WaWV3O1xyXG5pbXBvcnQgRGlhbG9nPUxheWEuRGlhbG9nO1xyXG5pbXBvcnQgU2NlbmU9TGF5YS5TY2VuZTtcbmV4cG9ydCBtb2R1bGUgdWkge1xyXG4gICAgZXhwb3J0IGNsYXNzIExvYWRWaWV3VUkgZXh0ZW5kcyBMYXlhLlZpZXcge1xyXG5cdFx0cHVibGljIHByb2dyZXNzQmFyOkxheWEuUHJvZ3Jlc3NCYXI7XG5cdFx0cHVibGljIHBlcmNlbnRWYWx1ZTpMYXlhLkxhYmVsO1xuICAgICAgICBwdWJsaWMgc3RhdGljICB1aVZpZXc6YW55ID17XCJ0eXBlXCI6XCJWaWV3XCIsXCJwcm9wc1wiOntcIndpZHRoXCI6NjQwLFwicnVudGltZVwiOlwic2NyaXB0L0xvYWRWaWV3LnRzXCIsXCJoZWlnaHRcIjoxMTM2fSxcImNvbXBJZFwiOjIsXCJjaGlsZFwiOlt7XCJ0eXBlXCI6XCJQcm9ncmVzc0JhclwiLFwicHJvcHNcIjp7XCJ5XCI6ODA0LFwieFwiOjEwNCxcIndpZHRoXCI6NDU4LFwidmFyXCI6XCJwcm9ncmVzc0JhclwiLFwic2tpblwiOlwiY29tcC9wcm9ncmVzcy5wbmdcIixcImhlaWdodFwiOjQwfSxcImNvbXBJZFwiOjMsXCJjaGlsZFwiOlt7XCJ0eXBlXCI6XCJMYWJlbFwiLFwicHJvcHNcIjp7XCJ5XCI6NSxcInhcIjoxODksXCJ2YXJcIjpcInBlcmNlbnRWYWx1ZVwiLFwidGV4dFwiOlwiMTAwJVwiLFwiZm9udFNpemVcIjozMCxcImZvbnRcIjpcIkFyaWFsXCIsXCJjb2xvclwiOlwiIzBlNTdmM1wiLFwiYm9sZFwiOnRydWV9LFwiY29tcElkXCI6Nn1dfSx7XCJ0eXBlXCI6XCJMYWJlbFwiLFwicHJvcHNcIjp7XCJ5XCI6NzU3LFwieFwiOjEwNCxcInRleHRcIjpcIui1hOa6kOWKoOi9veS4rS4uLlwiLFwiZm9udFNpemVcIjozMCxcImZvbnRcIjpcIkFyaWFsXCIsXCJjb2xvclwiOlwiI2Y5ZjZmNlwiLFwiYm9sZFwiOnRydWV9LFwiY29tcElkXCI6NH1dLFwibG9hZExpc3RcIjpbXCJjb21wL3Byb2dyZXNzLnBuZ1wiXSxcImxvYWRMaXN0M0RcIjpbXX07XHJcbiAgICAgICAgY29uc3RydWN0b3IoKXsgc3VwZXIoKX1cclxuICAgICAgICBjcmVhdGVDaGlsZHJlbigpOnZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVZpZXcoTG9hZFZpZXdVSS51aVZpZXcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGV4cG9ydCBjbGFzcyBNYWluU2NlbmVVSSBleHRlbmRzIExheWEuU2NlbmUge1xyXG4gICAgICAgIHB1YmxpYyBzdGF0aWMgIHVpVmlldzphbnkgPXtcInR5cGVcIjpcIlNjZW5lXCIsXCJwcm9wc1wiOntcIndpZHRoXCI6NjQwLFwicnVudGltZVwiOlwic2NyaXB0L01haW5TY2VuZS50c1wiLFwiaGVpZ2h0XCI6MTEzNn0sXCJjb21wSWRcIjoyLFwibG9hZExpc3RcIjpbXSxcImxvYWRMaXN0M0RcIjpbXX07XHJcbiAgICAgICAgY29uc3RydWN0b3IoKXsgc3VwZXIoKX1cclxuICAgICAgICBjcmVhdGVDaGlsZHJlbigpOnZvaWQge1xyXG4gICAgICAgICAgICBzdXBlci5jcmVhdGVDaGlsZHJlbigpO1xyXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVZpZXcoTWFpblNjZW5lVUkudWlWaWV3KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBleHBvcnQgY2xhc3MgTWFpblZpZXdVSSBleHRlbmRzIExheWEuVmlldyB7XHJcblx0XHRwdWJsaWMgYnRuMTpMYXlhLkJ1dHRvbjtcblx0XHRwdWJsaWMgYnRuMjpMYXlhLkJ1dHRvbjtcblx0XHRwdWJsaWMgYnRuMzpMYXlhLkJ1dHRvbjtcblx0XHRwdWJsaWMgYnRuNDpMYXlhLkJ1dHRvbjtcbiAgICAgICAgcHVibGljIHN0YXRpYyAgdWlWaWV3OmFueSA9e1widHlwZVwiOlwiVmlld1wiLFwicHJvcHNcIjp7XCJ3aWR0aFwiOjY0MCxcInJ1bnRpbWVcIjpcInNjcmlwdC9NYWluVmlldy50c1wiLFwiaGVpZ2h0XCI6MTEzNn0sXCJjb21wSWRcIjoyLFwiY2hpbGRcIjpbe1widHlwZVwiOlwiQnV0dG9uXCIsXCJwcm9wc1wiOntcInlcIjoxNTEsXCJ4XCI6NTAyLFwidmFyXCI6XCJidG4xXCIsXCJza2luXCI6XCJjb21wL2J1dHRvbi5wbmdcIixcIm5hbWVcIjpcIjFcIixcImxhYmVsXCI6XCJsYWJlbFwiLFwiaGVpZ2h0XCI6NDB9LFwiY29tcElkXCI6Nn0se1widHlwZVwiOlwiQnV0dG9uXCIsXCJwcm9wc1wiOntcInlcIjoyMTksXCJ4XCI6NTAzLFwidmFyXCI6XCJidG4yXCIsXCJza2luXCI6XCJjb21wL2J1dHRvbi5wbmdcIixcIm5hbWVcIjpcIjJcIixcImxhYmVsXCI6XCJsYWJlbFwiLFwiaGVpZ2h0XCI6NDB9LFwiY29tcElkXCI6N30se1widHlwZVwiOlwiQnV0dG9uXCIsXCJwcm9wc1wiOntcInlcIjoyODEsXCJ4XCI6NTAzLFwidmFyXCI6XCJidG4zXCIsXCJza2luXCI6XCJjb21wL2J1dHRvbi5wbmdcIixcIm5hbWVcIjpcIjNcIixcImxhYmVsXCI6XCJsYWJlbFwiLFwiaGVpZ2h0XCI6NDB9LFwiY29tcElkXCI6OH0se1widHlwZVwiOlwiQnV0dG9uXCIsXCJwcm9wc1wiOntcInlcIjozNDUsXCJ4XCI6NTAzLFwidmFyXCI6XCJidG40XCIsXCJza2luXCI6XCJjb21wL2J1dHRvbi5wbmdcIixcIm5hbWVcIjpcIjRcIixcImxhYmVsXCI6XCJsYWJlbFwiLFwiaGVpZ2h0XCI6NDB9LFwiY29tcElkXCI6OX1dLFwibG9hZExpc3RcIjpbXCJjb21wL2J1dHRvbi5wbmdcIl0sXCJsb2FkTGlzdDNEXCI6W119O1xyXG4gICAgICAgIGNvbnN0cnVjdG9yKCl7IHN1cGVyKCl9XHJcbiAgICAgICAgY3JlYXRlQ2hpbGRyZW4oKTp2b2lkIHtcclxuICAgICAgICAgICAgc3VwZXIuY3JlYXRlQ2hpbGRyZW4oKTtcclxuICAgICAgICAgICAgdGhpcy5jcmVhdGVWaWV3KE1haW5WaWV3VUkudWlWaWV3KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cciJdfQ==
